import{j as e,A as F,u as _,a as H,c as L,b as x,d as b,r as c,e as i,L as v,f as E,F as k,g as B,V as U,h as T,C as W,I as j,M as I,i as q,R as Q,k as p,l as J,m as K,n as X,o as z,p as G,B as Y,P as Z}from"./vendor.54cf17b0.js";const ee=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}};ee();const A=({height:a="30px",width:s="30px"})=>e("div",{children:e(F,{className:"circularLoader",style:{height:a,width:s}})}),M=()=>_(),y=H,se={message:{text:"",variant:"",timer:0}},ae=(a,s)=>{a.message=s.payload},re=a=>{a.message={text:"",variant:"",timer:3e3}},V=L({name:"message",initialState:se,reducers:{showMessage:ae,hideMessage:re}}),{showMessage:N,hideMessage:te}=V.actions;var ie=V.reducer;const oe={user:x.get("user")?JSON.parse(x.get("user")):null},ne=(a,s)=>{x.set("user",JSON.stringify(s.payload)),a.user=s.payload},le=a=>{x.remove("user"),a.user=null},D=L({name:"user",initialState:oe,reducers:{loginUser:ne,logoutUser:le}}),{loginUser:O,logoutUser:ce}=D.actions;var de=D.reducer;const P=`https://${{}.NEXT_PUBLIC_VERCEL_URL}/api`,C="MiniUTube";const ue=()=>{const{user:a}=y(u=>u.user),s=b(),[r,o]=c.exports.useState(!1),[t,n]=c.exports.useState(""),[l,h]=c.exports.useState(""),d=M();return i("div",{children:[e("div",{className:"welcome-title",children:i("h1",{className:"text-center",children:["Welcome to ",C]})}),e("div",{className:"about-the-app",children:e("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur id inventore alias corrupti quidem! Veniam iusto maiores, laborum aut dignissimos assumenda non. Blanditiis accusamus sapiente perspiciatis maxime autem architecto quam neque minus deserunt aperiam modi officiis nam adipisci voluptate tenetur ipsa esse optio error ullam, eaque libero, deleniti assumenda! A, possimus? Excepturi fugiat sequi fuga. Aut fuga dicta aspernatur dolores adipisci animi distinctio laboriosam quisquam blanditiis earum, deleniti omnis laudantium."})}),!a&&i("div",{className:"login-form-container",children:[e("h2",{children:"Login"}),i("form",{onSubmit:async u=>{if(u.preventDefault(),!t||!l){d(N({text:"All fields are required",variant:"error",timer:3e3}));return}try{o(!0);const{data:S}=await E.post(`${P}/login`,{email:t,password:l});d(O(S)),d(N({text:"Login Successful",variant:"success",timer:3e3})),o(!1),s("/")}catch{o(!1),d(N({text:"Something Went Wrong",variant:"error",timer:3e3}))}},children:[i("div",{className:"form-item",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{value:t,onChange:u=>n(u.target.value),id:"email",type:"email",className:"form-input",placeholder:"Enter Email ..."})]}),i("div",{className:"form-item",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{value:l,onChange:u=>h(u.target.value),id:"password",type:"password",className:"form-input",placeholder:"Enter Password ..."})]}),e("div",{className:"form-item",children:e("button",{type:"submit",disabled:r,children:r?e(A,{height:"20px",width:"20px"}):"Login"})})]}),i("div",{className:"text-center",children:["Don't have an account ? ",e(v,{to:"/register",children:"Register"})]})]})]})};const me=()=>e("div",{children:"Videos"});var $="/assets/logo1.f13273eb.jpg";const pe=()=>{const a=M(),{message:s}=y(g=>g.message),[r,o]=c.exports.useState(s.text),[t,n]=c.exports.useState(s.variant),[l,h]=c.exports.useState(s.timer);c.exports.useEffect(()=>{setTimeout(()=>{a(te())},l)},[s]);const d=g=>{(g.target.id==="closeMessage"||g.target.tagName==="path")&&(o(""),n(""),h(0))};return e(k,{children:r?e("div",{className:"absolute top-0 left-0 right-0",children:e("div",{className:"message-container",children:i("div",{className:`message ${t}`,children:[e("span",{className:"message-text",children:r}),e("span",{className:"close-btn-container",children:e(B,{className:"",id:"closeMessage",onClick:d})})]})})}):null})},he=({setShowSidebar:a,setActiveItem:s})=>{const[r,o]=c.exports.useState(!1),t=b(),{message:n}=y(d=>d.message),{user:l}=y(d=>d.user),h=M();return i("header",{className:"header",children:[n.text&&e(pe,{}),i("div",{className:"flex items-center",children:[e("div",{className:"menu-container",onClick:()=>a(!0),children:e(U,{className:"menu"})}),i("div",{className:"logo-container",onClick:()=>{s("/"),t("/"),a(!1)},children:[e("img",{src:$,height:30,className:"logo-img"}),e("span",{className:"logo-text",children:C})]})]}),e("div",{className:"search-form-container",children:i("form",{className:"search-form",children:[e("div",{className:"search-input-container",children:e("input",{type:"text",className:"search-input",placeholder:"Search"})}),e("div",{className:"search-icon-container",children:e("button",{type:"submit",children:e(T,{className:"search-icon"})})})]})}),e("div",{className:"login-btn-container",children:l?i("div",{className:"profile-image",onClick:()=>o(!r),children:[l.profilePicture?e("img",{src:l.profilePicture,alt:""}):e("img",{src:"/no-profile-picture.png",alt:""}),r&&i(k,{children:[e("div",{className:"no-profile-modal",onClick:()=>o(!1)}),i("div",{className:"profile-modal",children:[e(v,{to:`/user/${l._id}`,children:i("div",{className:"profile-item",children:[e(W,{className:"profile-modal-icon"}),"profile"]})}),e(v,{to:`/profile/edit/${l._id}`,children:i("div",{className:"profile-item",children:[e(j,{className:"profile-modal-icon"}),"edit profile"]})}),e(v,{to:"/upload-video",children:i("div",{className:"profile-item",children:[e(I,{className:"profile-modal-icon"}),"Upload Video"]})}),e("div",{onClick:()=>{h(ce())},className:"profile-item",children:"logout"})]})]})]}):e("button",{className:"login-btn",onClick:()=>t("/"),children:"LogIn"})})]})};const f=({name:a,path:s,activeItem:r,setActiveItem:o,setShowSidebar:t})=>e(v,{to:s,onClick:()=>{o(s),t(!1)},children:e("div",{className:`sidebar-item ${r===s&&"sidebar-item-active"}`,children:a})}),ge=({setShowSidebar:a,activeItem:s,setActiveItem:r})=>{const o=b(),{user:t}=y(n=>n.user);return i("div",{className:"sidebar",children:[i("div",{className:"sidebar-container",children:[i("div",{className:"flex items-center sidebar-header",children:[e("div",{className:"menu-container",onClick:()=>a(!1),children:e(U,{className:"menu"})}),i("div",{className:"logo-container",onClick:()=>{r("/"),o("/"),a(!1)},children:[e("img",{src:$,height:30,className:"logo-img"}),e("span",{className:"logo-text",children:C})]})]}),i("div",{className:"main",children:[e(f,{name:"Home",path:"/",activeItem:s,setActiveItem:r,setShowSidebar:a}),e(f,{name:"Videos",path:"/videos",activeItem:s,setActiveItem:r,setShowSidebar:a}),t&&i(k,{children:[e(f,{name:"Upload Video",path:"/upload-video",activeItem:s,setActiveItem:r,setShowSidebar:a}),e(f,{name:"Feed",path:"/feed",activeItem:s,setActiveItem:r,setShowSidebar:a}),e(f,{name:"History",path:"/History",activeItem:s,setActiveItem:r,setShowSidebar:a}),e(f,{name:"Profile",path:`/user/${t._id}`,activeItem:s,setActiveItem:r,setShowSidebar:a})]})]})]}),e("div",{className:"no-sidebar",onClick:()=>a(!1)})]})},fe=()=>{const a=b(),{user:s}=y(m=>m.user);c.exports.useEffect(()=>{s&&s._id&&a("/")},[s]);const[r,o]=c.exports.useState(!1),[t,n]=c.exports.useState(""),[l,h]=c.exports.useState(""),[d,g]=c.exports.useState(""),u=M();return i("div",{className:"login-form-container",children:[e("h2",{children:"Register"}),i("form",{onSubmit:async m=>{if(m.preventDefault(),!t||!l||!d){u(N({text:"All fields are required",variant:"error",timer:3e3}));return}try{o(!0);const{data:R}=await E.post(`${P}/register`,{name:t,email:l,password:d});u(O(R.user)),u(N({text:"Successfully Registered",variant:"success",timer:3e3})),o(!1),a("/")}catch{o(!1),u(N({text:"Something Went Wrong",variant:"error",timer:3e3}))}},children:[i("div",{className:"form-item",children:[e("label",{htmlFor:"name",children:"Name"}),e("input",{value:t,onChange:m=>n(m.target.value),id:"name",type:"text",className:"form-input",placeholder:"Enter Name ..."})]}),i("div",{className:"form-item",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{value:l,onChange:m=>h(m.target.value),id:"email",type:"email",className:"form-input",placeholder:"Enter Email ..."})]}),i("div",{className:"form-item",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{value:d,onChange:m=>g(m.target.value),id:"password",type:"password",className:"form-input",placeholder:"Enter Password ..."})]}),e("div",{className:"form-item",children:e("button",{type:"submit",disabled:r,children:r?e(A,{height:"20px",width:"20px"}):"Register"})})]}),i("div",{className:"text-center",children:["Already have an account ? ",e(v,{to:"/",children:"Login"})]})]})};const ve=()=>e("div",{children:"History"});const Ne=()=>{const{userId:a}=q();return e("div",{children:a})};const ye=()=>e("div",{children:"Feed"});const xe=()=>e("div",{children:"UploadVideo"});const be=()=>{const{userId:a}=q();return e("div",{children:a})};function ke(){const[a,s]=c.exports.useState(!1),[r,o]=c.exports.useState(location.pathname);return c.exports.useEffect(()=>{o(location.pathname)},[location.pathname]),i(k,{children:[e(he,{setShowSidebar:s,activeItem:r,setActiveItem:o}),a&&e(ge,{setShowSidebar:s,activeItem:r,setActiveItem:o}),i(Q,{children:[e(p,{element:e(ue,{}),path:"/"}),e(p,{element:e(me,{}),path:"/videos"}),e(p,{element:e(fe,{}),path:"/register"}),e(p,{element:e(ye,{}),path:"/feed"}),e(p,{element:e(ve,{}),path:"/history"}),e(p,{element:e(xe,{}),path:"/upload-video"}),e(p,{element:e(Ne,{}),path:"/user/:userId"}),e(p,{element:e(be,{}),path:"/profile/edit/:userId"})]})]})}const Me={darkMode:!1},Se=(a,s)=>{const r=document.querySelector("body");r&&(a.darkMode?(r==null||r.classList.remove("dark"),r.style.backgroundColor="white",r.style.color="black"):(r==null||r.classList.add("dark"),r.style.backgroundColor="black",r.style.color="white")),a.darkMode=!a.darkMode},Le=a=>{const s=document.querySelector("body");s&&(s==null||s.classList.remove("dark"),s.style.backgroundColor="white",s.style.color="black"),a.darkMode=!1},Pe=a=>{const s=document.querySelector("body");s&&(s==null||s.classList.add("dark"),s.style.backgroundColor="black",s.style.color="white"),a.darkMode=!0},Ce=L({name:"darkMode",initialState:Me,reducers:{toggleDarkMode:Se,activateDarkMode:Pe,deactivateDarkMode:Le}});var Re=Ce.reducer;const w=J({reducerPath:"videosReducer",baseQuery:K({baseUrl:P}),endpoints:a=>({getVideos:a.query({query:()=>"/videos"})})}),we=X({reducer:{[w.reducerPath]:w.reducer,darkMode:Re,user:de,message:ie}});z.render(e(G.StrictMode,{children:e(Y,{children:e(Z,{store:we,children:e(ke,{})})})}),document.getElementById("root"));
